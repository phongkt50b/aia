<!DOCTYPE html>

<html lang="vi">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Công Cụ Tính Phí Bảo Hiểm AIA</title>
<script src="https://cdn.tailwindcss.com?plugins=typography"></script>
<link href="style.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
</head>
<body class="bg-gray-50 font-sans text-gray-800">
<div class="container mx-auto p-4 sm:p-6 lg:p-8">
<header class="flex items-center justify-between pb-6 border-b-2 border-red-600 mb-6">
<img alt="AIA Logo" class="h-8" src="https://www.aia.com.vn/content/dam/group-wise/images/system/icons/aia-logo-red.svg"/>
<h1 class="text-2xl sm:text-3xl font-bold text-gray-800 text-right">Công Cụ Minh Họa Phí Bảo Hiểm</h1>
</header>
<main class="grid grid-cols-1 lg:grid-cols-3 gap-8">
<div class="lg:col-span-2 space-y-6">
<!-- Section 1: NĐBH chính -->
<div class="person-container space-y-6 bg-white p-6 rounded-lg shadow-sm border border-gray-200" id="main-person-container">
<h2 class="text-xl font-bold text-aia-red mb-4">1. Thông Tin Người Được Bảo Hiểm Chính</h2>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
<div>
<label class="font-medium block mb-1">Họ và Tên</label>
<input class="form-input name-input" placeholder="Nguyễn Văn A" type="text"/>
</div>
<div>
<label class="font-medium block mb-1">Ngày sinh</label>
<input class="form-input dob-input" placeholder="DD/MM/YYYY" type="text"/>
</div>
<div>
<label class="font-medium block mb-1">Giới tính</label>
<select class="form-select gender-select">
<option value="Nam">Nam</option>
<option value="Nữ">Nữ</option>
</select>
</div>
<div class="flex items-end">
<p class="text-lg">Tuổi: <span class="font-bold text-aia-red age-span">0</span></p>
</div>
<div class="relative">
<label class="font-medium block mb-1">Nghề nghiệp</label>
<input class="form-input occupation-input" placeholder="Gõ để tìm nghề nghiệp..." type="text"/>
<div class="occupation-autocomplete hidden absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-60 overflow-y-auto"></div>
</div>
<div class="flex items-end">
<p class="text-lg">Nhóm nghề: <span class="font-bold text-aia-red risk-group-span">...</span></p>
</div>
</div>
</div>
<!-- Section 2: Sản phẩm chính -->
<div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
<h2 class="text-xl font-bold text-aia-red mb-4">2. Lựa Chọn Sản Phẩm Chính</h2>
<div>
<select class="form-select" id="main-product">
<option value="">-- Chọn sản phẩm chính --</option>
<option value="PUL_TRON_DOI">PUL Trọn đời</option>
<option value="PUL_15_NAM">PUL 15 năm</option>
<option value="PUL_5_NAM">PUL 5 năm</option>
<option value="KHOE_BINH_AN">MUL - Khoẻ Bình An</option>
<option value="VUNG_TUONG_LAI">MUL - Vững Tương Lai</option>
<option value="TRON_TAM_AN">Trọn tâm an</option>
<option value="AN_BINH_UU_VIET">An Bình Ưu Việt</option>
</select>
</div>
<div class="mt-4 space-y-4" id="main-product-options"></div>
<div class="text-right font-bold text-lg text-aia-red mt-2 min-h-[1.75rem]" id="main-product-fee-display"></div>
</div>
<!-- Section 3: SP bổ sung cho NĐBH chính -->
<div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200" id="main-supp-container">
<h2 class="text-xl font-bold text-aia-red mb-4">3. Lựa Chọn Sản Phẩm Bổ Sung (Cho NĐBH Chính)</h2>
<div class="supplementary-products-container space-y-6">
<!-- JS sẽ render -->
</div>
</div>
<!-- Section 4: NĐBH bổ sung -->
<div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
<h2 class="text-xl font-bold text-aia-red mb-4">4. Người Được Bảo Hiểm Bổ Sung</h2>
<div class="space-y-6" id="supplementary-insured-container"></div>
<button class="mt-4 px-4 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300 transition-colors w-full text-left flex items-center space-x-2" id="add-supp-insured-btn">
<span>+ Thêm Người Được Bảo Hiểm Bổ Sung</span>
</button>
</div>
<!-- Section 5: Miễn Đóng Phí 3.0 -->
<div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 hidden" id="mdp3-section">
<h2 class="text-xl font-bold text-aia-red mb-4">5. Miễn Đóng Phí 3.0 (Bên mua bảo hiểm)</h2>
<!-- Checkbox bật/tắt -->
<div class="flex items-center space-x-2 mb-3">
<input class="form-checkbox" id="mdp3-enable" type="checkbox"/>
<label class="text-gray-700 font-medium" for="mdp3-enable">
            Miễn đóng phí 3.0
          </label>
</div>
<!-- Drop-down render bởi JS -->
<div id="mdp3-radio-list">
<div id="mdp3-select-container"></div>
</div>
<!-- Hiển thị STBH và phí -->
<div class="mt-3 text-aia-red font-bold" id="mdp3-fee-display"></div>
</div>
</div>
<!-- Cột kết quả -->
<div class="lg:col-span-1">
<div class="bg-white p-6 rounded-lg shadow-sm border-2 border-aia-red sticky top-8">
<h2 class="text-2xl font-bold text-gray-900 mb-4 text-center">Tóm Tắt Phí Bảo Hiểm</h2>
<div class="space-y-3 text-lg" id="results-container"><div class="mb-4"><label class="font-medium text-gray-700 block mb-1" for="payment-frequency">Kỳ đóng phí</label><select class="form-select w-full border-gray-300 rounded" id="payment-frequency"><option value="year">Năm (mặc định)</option><option value="half">Nửa năm</option><option value="quarter">Quý</option></select></div><div class="space-y-1 text-sm text-gray-700 mb-3" id="frequency-breakdown"></div>
<div class="flex justify-between items-center py-2 border-b">
<span class="text-gray-600">Phí sản phẩm chính:</span>
<span class="font-bold text-gray-900" id="main-premium-result">0 VNĐ</span>
</div>
<div id="supplementary-premiums-results"></div>
<div class="flex justify-between items-center pt-4 text-xl">
<span class="font-semibold text-aia-red">Tổng phí năm đầu:</span>
<span class="font-extrabold text-aia-red" id="total-premium-result">0 VNĐ</span>
</div>
</div>
<div class="mt-6 space-y-4">
<div>
<label class="font-medium text-gray-700 block mb-1" for="target-age-input">Minh họa phí đến năm (tuổi NĐBH chính)</label>
<input class="form-input" id="target-age-input" max="100" min="0" placeholder="VD: 75" type="number"/>
</div>
<button class="w-full bg-aia-red text-white font-bold py-3 px-4 rounded-lg hover:bg-red-700 transition-colors" id="view-summary-btn">Xem Bảng Minh Họa Chi Tiết</button>
</div>
<div class="mt-4 text-center text-red-500 font-medium min-h-[1.25rem]" id="error-message"></div>
</div>
</div>
</main>
<footer class="text-center text-gray-500 mt-12 py-4 border-t">
    Công cụ này chỉ mang tính chất tham khảo cá nhân, không phải là bảng minh họa chính thức của AIA. Quyền lợi và mức phí cụ thể sẽ được xác nhận trong hợp đồng do AIA phát hành. 
      Vui lòng liên hệ tư vấn viên AIA để được tư vấn chi tiết và nhận bảng minh họa chính thức
  </footer>
</div>
<!-- Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center p-4 z-50" id="summary-modal">
<div class="bg-white rounded-lg shadow-xl max-w-5xl w-full max-h-[90vh] flex flex-col">
<div class="p-4 border-b flex justify-between items-center sticky top-0 bg-white">
<h2 class="text-2xl font-bold text-aia-red">Bảng Tóm Tắt Quyền Lợi và Phí</h2>
<button class="text-3xl font-light leading-none hover:text-red-600" id="close-summary-modal-btn">×</button>
</div>
<div class="p-6 overflow-y-auto" id="summary-content-container"></div>
</div>
</div>
<script src="logic.js" type="module"></script>
<script src="data.js" type="module"></script>
</body>
</html>
