<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bảng Minh Họa Bảo Hiểm</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">
  <div class="container mx-auto p-4">

    <!-- SECTION 1 -->
    <div id="main-person-container" class="bg-white shadow rounded-lg p-4 mb-6">
      <h2 class="text-lg font-bold mb-4">Người được bảo hiểm chính</h2>
      <!-- Nội dung form section 1 như bản gốc -->
      <!-- ... giữ nguyên nguyên bản của bạn ... -->
    </div>

    <!-- SECTION 2 -->
    <div id="main-product-container" class="bg-white shadow rounded-lg p-4 mb-6">
      <h2 class="text-lg font-bold mb-4">Sản phẩm chính</h2>
      <!-- Nội dung form section 2 như bản gốc -->
      <!-- ... giữ nguyên nguyên bản của bạn ... -->
    </div>

    <!-- SECTION 3 -->
    <div id="extra-premium-container" class="bg-white shadow rounded-lg p-4 mb-6">
      <h2 class="text-lg font-bold mb-4">Phí đóng thêm</h2>
      <!-- Nội dung form section 3 như bản gốc -->
      <!-- ... giữ nguyên nguyên bản của bạn ... -->
    </div>

    <!-- SECTION 4 -->
    <div id="main-supp-container" class="bg-white shadow rounded-lg p-4 mb-6">
      <h2 class="text-lg font-bold mb-4">Sản phẩm bổ sung của NĐBH chính</h2>
      <!-- Nội dung form section 4 như bản gốc -->
      <!-- ... giữ nguyên nguyên bản của bạn ... -->
    </div>

    <!-- SECTION 5 -->
    <div id="supplementary-insured-container" class="bg-white shadow rounded-lg p-4 mb-6">
      <h2 class="text-lg font-bold mb-4">Người được bảo hiểm bổ sung</h2>
      <!-- Nội dung form section 5 như bản gốc -->
      <!-- ... giữ nguyên nguyên bản của bạn ... -->
    </div>

    <!-- SECTION 6: Tóm tắt phí bảo hiểm -->
    <div id="results-container" class="bg-white shadow rounded-lg p-4 mt-6">
      <h2 class="text-lg font-bold mb-4">Tóm Tắt Phí Bảo Hiểm</h2>

      <!-- [PATCH] Thêm chọn kỳ đóng phí -->
      <div class="mb-4">
        <label for="payment-frequency" class="font-medium text-gray-700 block mb-1">Kỳ đóng phí</label>
        <select id="payment-frequency" class="form-select w-full border-gray-300 rounded">
          <option value="year" selected>Năm (mặc định)</option>
          <option value="half">Nửa năm</option>
          <option value="quarter">Quý</option>
        </select>
      </div>

      <!-- [PATCH] Thêm vùng breakdown -->
      <div id="frequency-breakdown" class="space-y-1 text-sm text-gray-700 mb-3"></div>

      <div class="flex justify-between items-center py-2 border-b">
        <span class="text-gray-600">Phí sản phẩm chính:</span>
        <span id="main-premium-result" class="font-bold text-gray-900">0 VNĐ</span>
      </div>
      <div id="supplementary-premiums-results"></div>
      <div class="flex justify-between items-center pt-4 text-xl">
        <span class="font-semibold text-aia-red">Tổng phí năm đầu:</span>
        <span id="total-premium-result" class="font-extrabold text-aia-red">0 VNĐ</span>
      </div>
    </div>

    <!-- Minh họa phí đến năm -->
    <div class="mt-4">
      <label for="target-age-input" class="block text-sm font-medium text-gray-700">Minh họa phí đến năm:</label>
      <input id="target-age-input" type="number" min="0" max="100" class="mt-1 block w-full border-gray-300 rounded" />
      <div id="target-age-error" class="text-red-500 text-sm hidden"></div>
    </div>

    <!-- Nút mở modal -->
    <div class="mt-6">
      <button id="view-summary-btn" class="px-4 py-2 bg-aia-red text-white rounded shadow hover:bg-red-700">
        Bảng minh họa chi tiết
      </button>
    </div>

    <!-- Modal: Bảng Minh Họa Chi Tiết -->
    <div id="summary-modal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full">
      <div class="relative top-20 mx-auto p-5 border w-11/12 max-w-5xl shadow-lg rounded-md bg-white">
        <div class="flex justify-between items-center pb-3">
          <p class="text-2xl font-bold">Bảng Minh Họa Chi Tiết</p>
          <button id="close-summary-btn" class="text-gray-500 hover:text-gray-700">&times;</button>
        </div>
        <div id="summary-table-container" class="overflow-x-auto"></div>
        <div class="mt-4 font-bold text-sm text-gray-700">
          Công cụ này chỉ mang tính chất tham khảo cá nhân, không phải là bảng minh họa chính thức của AIA.
          Quyền lợi và mức phí cụ thể sẽ được xác nhận trong hợp đồng do AIA phát hành.
          Vui lòng liên hệ tư vấn viên AIA để được tư vấn chi tiết và nhận bảng minh họa chính thức.
        </div>
      </div>
    </div>

  </div>

  <script src="logic.js"></script>
</body>
</html>
